(this["webpackJsonppig-dice-game"]=this["webpackJsonppig-dice-game"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(3),c=r(5),s=r(4),i=r(1),o=r.n(i),l=r(10),u=r.n(l),p=r(8),d=r(6),h=r.n(d),j=r(7),b=(r(16),r(0)),m=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={dice1:0,dice2:0},e.getRandomNumber=function(){var e=Math.ceil(1),t=Math.floor(6);return Math.floor(Math.random()*(t-e+1))+e},e}return Object(a.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.getRandomNumber(),r=this.getRandomNumber();this.setState({dice1:t,dice2:r}),setTimeout((function(){return e.props.onRender(t+r)}),550)}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"top-dice dice dice".concat(this.state.dice1)}),Object(b.jsx)("div",{className:"bottom-dice dice dice".concat(this.state.dice2)})]})}}]),r}(o.a.Component),S=(r(18),function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={disabled:!1},e.disableButton=function(){e.setState({disabled:!0}),e.props.onClick(),setTimeout((function(){return e.setState({disabled:!1})}),1e3)},e}return Object(a.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("button",{disabled:0===this.props.currentScore||this.state.disabled,className:"btn",onClick:this.disableButton,children:[Object(b.jsx)("ion-icon",{name:this.props.icon}),this.props.text]})}}]),r}(o.a.Component)),y=(r(19),function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).checkWinnerOrCurrent=function(){return e.props.winner===e.props.player.toLowerCase()?"player winner":e.props.currentPlayer===e.props.player.toLowerCase()?"player current":"player"},e}return Object(a.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:this.checkWinnerOrCurrent(),children:[Object(b.jsx)("h1",{children:this.props.playerName}),Object(b.jsxs)("div",{className:"totalScore",children:[Object(b.jsx)("h3",{children:"Total Score"}),Object(b.jsx)("span",{children:this.props.totalScore})]}),this.props.currentPlayer===this.props.player.toLowerCase()&&!(this.props.winner===this.props.player.toLowerCase())&&Object(b.jsxs)("div",{className:"currentScore",children:[Object(b.jsx)("h3",{children:"Current Score"}),Object(b.jsx)("span",{children:this.props.currentScore})]})]})}}]),r}(o.a.Component)),f=(r(20),function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={winningScore:e.props.winningScore,currentPlayerTurn:"player1",rollDice:!1,winner:null,player1:{name:e.props.player1name,totalScore:0,currentScore:0},player2:{name:e.props.player2name,totalScore:0,currentScore:0}},e.setWinningScore=function(t){return e.setState({winningScore:t})},e.checkIfWinner=Object(j.a)(h.a.mark((function t(){var r,n,a,c,s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.state[e.state.currentPlayerTurn]).totalScore+r.currentScore>=e.state.winningScore)){t.next=6;break}return t.next=4,e.setState({winner:e.state.currentPlayerTurn,rollDice:!1});case 4:n=e.state[e.state.winner].name,null===localStorage.getItem("winnings")?((a=[]).push({name:n,counter:1}),localStorage.setItem("winnings",JSON.stringify(a))):(c=JSON.parse(localStorage.getItem("winnings")),(s=c.find((function(t){return e.state[e.state.winner].name===t.name})))?s.counter++:(i={name:e.state[e.state.winner].name,counter:1},c.push(i)),localStorage.setItem("winnings",JSON.stringify(c)));case 6:e.switchTurn();case 7:case"end":return t.stop()}}),t)}))),e.updateCurrentScore=function(){var t=Object(j.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.currentPlayerTurn,a=e.state[n].currentScore,12===r){t.next=7;break}return t.next=5,e.setState(Object(p.a)({},n,{name:e.props["".concat(n,"name")],currentScore:r+a,totalScore:e.state[n].totalScore}));case 5:t.next=10;break;case 7:return t.next=9,e.setState(Object(p.a)({},n,{name:e.props["".concat(n,"name")],currentScore:0,totalScore:e.state[n].totalScore}));case 9:e.checkIfWinner();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.switchTurn=Object(j.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.currentPlayerTurn,t.next=3,e.setState({rollDice:!1});case 3:return t.next=5,e.setState(Object(p.a)({},r,{currentScore:0,totalScore:e.state[r].totalScore+e.state[r].currentScore}));case 5:if(null!==e.state.winner){t.next=13;break}if("player1"!==e.state.currentPlayerTurn){t.next=11;break}return t.next=9,e.setState({currentPlayerTurn:"player2"});case 9:t.next=13;break;case 11:return t.next=13,e.setState({currentPlayerTurn:"player1"});case 13:case"end":return t.stop()}}),t)}))),e.rollDice=Object(j.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.state.rollDice;case 2:if(!t.sent){t.next=6;break}e.setState({rollDice:!1}),t.next=7;break;case 6:e.setState({rollDice:!0});case 7:e.state.rollDice||setTimeout((function(){e.setState({rollDice:!0})}),100);case 8:case"end":return t.stop()}}),t)}))),e.newGame=function(){e.setState({winningScore:e.state.winningScore,currentPlayerTurn:"player1",rollDice:!1,winner:null,player1:{totalScore:0,currentScore:0},player2:{totalScore:0,currentScore:0}})},e}return Object(a.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"gameboard",children:[Object(b.jsx)(y,{player:"player1",playerName:this.props.player1name.replace(" ",""),currentPlayer:this.state.currentPlayerTurn,winner:this.state.winner,totalScore:this.state.player1.totalScore,currentScore:this.state.player1.currentScore}),Object(b.jsx)(y,{player:"player2",playerName:this.props.player2name.replace(" ",""),currentPlayer:this.state.currentPlayerTurn,winner:this.state.winner,totalScore:this.state.player2.totalScore,currentScore:this.state.player2.currentScore}),!this.state.winner&&Object(b.jsxs)("div",{className:"control ".concat(this.state.currentPlayerTurn),children:[Object(b.jsx)(S,{onClick:this.rollDice,icon:"dice-sharp",text:"Roll Dice"}),Object(b.jsx)(S,{onClick:this.checkIfWinner,icon:"swap-horizontal",text:"Hold",currentScore:this.state[this.state.currentPlayerTurn].currentScore})]}),Object(b.jsx)("div",{className:"new-game",children:Object(b.jsx)(S,{onClick:this.newGame,icon:"refresh",text:"New Game"})}),Object(b.jsx)("div",{className:"dices",children:this.state.rollDice&&Object(b.jsx)(m,{onRender:this.updateCurrentScore})})]})}}]),r}(o.a.Component)),O=(r(21),function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={disabled:!1},e.handleClick=function(t){e.setState({disabled:!0}),e.props.onClick(t.target.previousElementSibling.value)},e}return Object(a.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"input",children:[Object(b.jsx)("input",{disabled:this.state.disabled,type:this.props.type,name:this.props.name,id:this.props.name,defaultValue:this.props.defaultValue}),Object(b.jsx)("button",{disabled:this.state.disabled,onClick:this.handleClick,children:"\ud83d\uddf8"})]})}}]),r}(o.a.Component)),x=(r(22),function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={start:!1,settings:!1,leaderboard:!1,winningScore:100,player1name:"Player1",player2name:"Player2"},e.showButtons=function(){return Object(b.jsxs)("div",{className:"control",children:[Object(b.jsx)(S,{onClick:function(){return e.setState({start:!0,settings:!1,leaderboard:!1})},icon:"game-controller",text:"Start"}),Object(b.jsx)(S,{onClick:function(){return e.setState({start:!1,settings:!0,leaderboard:!1})},icon:"construct",text:"Settings"}),Object(b.jsx)(S,{onClick:function(){return e.setState({start:!1,settings:!1,leaderboard:!0})},icon:"barbell-outline",text:"Leaderboard"})]})},e.showLeaderboard=function(){if(null===localStorage.getItem("winnings"))return Object(b.jsxs)("div",{className:"control",children:[Object(b.jsx)("h3",{children:"Sorry but I didn't found any winners yet."}),Object(b.jsx)(S,{onClick:function(){return e.setState({leaderboard:!1})},icon:"arrow-back-circle-sharp",text:"Back"})]});var t=JSON.parse(localStorage.getItem("winnings"));return t.sort((function(e,t){return t.counter-e.counter})),Object(b.jsxs)("div",{className:"control",children:[t.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:e.name}),Object(b.jsxs)("span",{children:["Won ",e.counter," times"]})]})})),Object(b.jsx)(S,{onClick:function(){return e.setState({leaderboard:!1})},icon:"arrow-back-circle-sharp",text:"Back"})]})},e.showSettings=function(){return Object(b.jsxs)("div",{className:"control",children:[Object(b.jsxs)("div",{className:"line",children:[Object(b.jsx)("span",{children:"Winning Goal: "}),Object(b.jsx)(O,{type:"number",name:"winningscore",defaultValue:e.state.winningScore,onClick:function(t){return e.setState({winningScore:t})}})]}),Object(b.jsxs)("div",{className:"line",children:[Object(b.jsx)("span",{children:"Player1 Name: "})," ",Object(b.jsx)(O,{name:"player1name",defaultValue:e.state.player1name,type:"text",onClick:function(t){return e.setState({player1name:t})}})]}),Object(b.jsxs)("div",{className:"line",children:[Object(b.jsx)("span",{children:"Player2 Name: "})," ",Object(b.jsx)(O,{name:"player2name",defaultValue:e.state.player2name,type:"text",onClick:function(t){return e.setState({player2name:t})}})]}),Object(b.jsxs)("div",{className:"line",children:[Object(b.jsx)(S,{onClick:function(){return e.setState({settings:!1})},icon:"arrow-back-circle-sharp",text:"Back"}),Object(b.jsx)(S,{onClick:function(){return localStorage.clear()},icon:"cloud-offline",text:"Delete Local Storage"})]})]})},e}return Object(a.a)(r,[{key:"render",value:function(){return this.state.start?Object(b.jsx)(f,{player1name:this.state.player1name,player2name:this.state.player2name,winningScore:this.state.winningScore}):Object(b.jsxs)("div",{className:"start-menu",children:[Object(b.jsxs)("h1",{children:[Object(b.jsx)("ion-icon",{name:"dice"})," Pig Dice Game"]}),this.showButtons(),this.state.settings&&this.showSettings(),this.state.leaderboard&&this.showLeaderboard()]})}}]),r}(o.a.Component));u.a.render(Object(b.jsx)("div",{children:Object(b.jsx)(x,{})}),document.querySelector("#root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.e5c529dd.chunk.js.map